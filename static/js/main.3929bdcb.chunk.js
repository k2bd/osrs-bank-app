(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n,c=a(1),r=a.n(c),i=a(44),u=a.n(i),o=a(10),l=a(91),s=a(19),j=a(148),d=a(168),b=a(46),O=a(22),m=a.n(O),p=a(35),f=a(166),h=a(88),g=a(65),x=a(89),v=a(94),k=a(171),w=a(39),C=a(93),T=a(173),S=a(167),I=a(55),y=a(30),L=null!==(n="https://xyjxget0z8.execute-api.eu-west-2.amazonaws.com/main")?n:"",E=("".concat(L,"/item/"),"".concat(L,"/items/")),N=("".concat(L,"/tag/"),"".concat(L,"/tags/")),M="".concat(L,"/tagGroups/"),P=("".concat(E,"related/"),"".concat(E,"tag/")),G="".concat(N,"item/"),F=function(e,t){return Object(y.a)({url:P+"".concat(e),params:t})},z=function(){return Object(y.a)({url:N,method:"POST",params:{}},{manual:!0,autoCancel:!1})},D=a(172),B=a(5),R=a(160),$=a(161),A=a(169),J=a(3),K=function(e){var t,a=e.item,n=e.availableTagGroups,r=e.loading,i=e.refetchTagGroups,u=(t=a.itemId,Object(y.a)({url:G+"".concat(t)})),l=Object(o.a)(u,2),s=l[0],j=s.data,d=s.loading,b=l[1],O=Object(c.useState)([]),f=Object(o.a)(O,2),h=f[0],g=f[1],x=z(),v=Object(o.a)(x,2),k=v[0].loading,w=v[1],C=Object(y.a)({url:N,method:"DELETE",params:{}},{manual:!0,autoCancel:!1}),T=Object(o.a)(C,2),S=T[0].loading,I=T[1];Object(c.useEffect)((function(){!d&&j&&g(j)}),[j,d]);var L=(null!==n&&void 0!==n?n:[]).map((function(e){return{id:e,label:e}})),E=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,c,r,u,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(n=null===j||void 0===j?void 0:j.map((function(e){return e.groupName})))&&void 0!==n?n:[],r=t.value.map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.toString()})).filter((function(e){return!!e})).map((function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))})).flat().map((function(e){return e.toLowerCase()})),u=r.filter((function(e){return e&&!(null===c||void 0===c?void 0:c.includes(e))})),o=null===c||void 0===c?void 0:c.filter((function(e){return!r.includes(e)})),e.next=6,w({data:u.map((function(e){return{itemId:a.itemId,groupName:e}}))});case 6:return e.next=8,I({data:o.map((function(e){return{itemId:a.itemId,groupName:e}}))});case 8:return e.next=10,b();case 10:return e.next=12,i();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=r||d||k||S,P=Object(J.jsx)(A.a,{creatable:!0,multi:!0,disabled:M,isLoading:M,size:"mini",options:L,value:h.map((function(e){return{id:e.groupName,label:e.groupName}})),placeholder:"Select tags",onChange:E});return Object(J.jsx)(R.a,{artwork:function(){return Object(J.jsx)("img",{src:"data:image/jpeg;base64,".concat(a.iconBase64)})},children:Object(J.jsx)($.a,{description:P,children:a.name})},a.itemId)},_=a(162),X=a(179),q=a(18),H=a(83),Q=a.n(H),U=a(178),V=a(175),W=function(e){var t=e.nameLike,a=e.setNameLike,n=e.includeMembers,r=e.setIncludeMembers,i=Object(c.useState)(null!==t&&void 0!==t?t:""),u=Object(o.a)(i,2),l=u[0],s=u[1],j=Object(c.useCallback)(Q()(a,300),[]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(V.a,{title:"Item filters",children:[Object(J.jsx)(U.a,{label:function(){return"Item Name"},children:Object(J.jsx)(_.a,{value:l,onChange:function(e){s(e.currentTarget.value),j(e.currentTarget.value)},placeholder:"Complete or partial item name",clearOnEscape:!0})}),Object(J.jsx)(U.a,{children:Object(J.jsx)(X.a,{checkmarkType:q.b.toggle_round,checked:n,onChange:function(){return r(!n)},labelPlacement:q.a.right,children:"Include Members"})})]})})},Y=a(176),Z=a(170),ee=a(9),te=Object(Z.a)({},{}),ae=Object(ee.a)("div",{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}),ne=Object(ee.a)("div",{display:"flex",flexDirection:"row"}),ce=function(e){var t,a,n=e.availableTagGroups,r=e.loading,i=e.refetchTagGroups,u=Object(s.d)(),l=Object(o.a)(u,1)[0],j=Object(c.useState)(""),d=Object(o.a)(j,2),b=d[0],O=d[1],m=Object(c.useState)(!0),p=Object(o.a)(m,2),f=p[0],h=p[1],g=Object(c.useState)(1),x=Object(o.a)(g,2),v=x[0],k=x[1],w=Object(c.useState)(25),C=Object(o.a)(w,1)[0];Object(c.useEffect)((function(){k(1)}),[b,f]);var T,S=(T={nameLike:b,includeMembers:f,limit:C,offset:C*(v-1)},Object(y.a)({url:E,params:T})),L=Object(o.a)(S,1)[0],N=L.data,M=L.loading,P=Math.ceil((null!==(t=null===N||void 0===N?void 0:N.totalCount)&&void 0!==t?t:0)/C),G=M||!N?Object(I.a)(Object.keys(Array(C))).map((function(e){return Object(J.jsx)(Y.a,{animation:!0,height:"30px"},e)})):null!==(a=N.items.map((function(e){return Object(J.jsx)(K,{item:e,availableTagGroups:null!==n&&void 0!==n?n:[],loading:r,refetchTagGroups:i},e.itemId)})))&&void 0!==a?a:[];return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ae,{children:[Object(J.jsx)(W,{nameLike:b,setNameLike:O,includeMembers:f,setIncludeMembers:h}),Object(J.jsx)("ul",{className:l({width:"60%"}),children:G}),Object(J.jsx)(D.a,{numPages:P,size:B.d.mini,currentPage:v,onPageChange:function(e){var t=e.nextPage,a=Math.min(Math.max(t,1),P);k(a)}})]})})},re=a(174),ie=function(e){var t=e.item;return Object(J.jsx)(re.a,{startEnhancer:function(){return Object(J.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.iconBase64)})},closeable:!1,children:t.name})},ue=a(85),oe=a(163),le=a(84),se=function(e){var t=e.groupName,a=e.expanded,n=e.setExpanded,c=F(t,{}),r=Object(o.a)(c,1)[0].data,i=F(t,{includeRelated:!0}),u=Object(o.a)(i,1)[0].data,l=(null!==r&&void 0!==r?r:[]).map((function(e){return Object(J.jsx)(ie,{item:e})})),s="".concat(t,",")+(null===u||void 0===u?void 0:u.map((function(e){return e.itemId.toString()})).join(",")),j=Object(ue.a)(s,{successDuration:500}),d=Object(o.a)(j,2),b=d[0],O=d[1],m=Object(J.jsx)(k.a,{kind:"secondary",onClick:O,children:b?Object(J.jsx)(oe.a,{}):Object(J.jsx)(w.a,{})});return Object(J.jsxs)(ne,{children:[Object(J.jsx)(le.a,{title:t,expanded:a,onClick:function(){return n(a?void 0:t)},children:l},t),m]})},je=a(87),de=function(e){var t=e.nameLike,a=e.setNameLike,n=Object(c.useState)(null!==t&&void 0!==t?t:""),r=Object(o.a)(n,2),i=r[0],u=r[1],l=Object(c.useCallback)(Object(je.debounce)(a,300),[]);return Object(J.jsx)(U.a,{label:"Filter Tags",children:Object(J.jsx)(_.a,{value:i,onChange:function(e){u(e.currentTarget.value),l(e.currentTarget.value)},placeholder:"Complete or partial tag name",clearOnEscape:!0})})},be=a(164),Oe=function(e){var t=e.availableTagGroups,a=e.loading,n=Object(c.useState)(""),r=Object(o.a)(n,2),i=r[0],u=r[1],l=Object(c.useState)(1),s=Object(o.a)(l,2),j=s[0],d=s[1],b=Object(c.useState)(25),O=Object(o.a)(b,1)[0];Object(c.useEffect)((function(){d(1)}),[i]);var m=t.filter((function(e){return e.toLowerCase().includes(i.toLowerCase())})),p=m.slice(O*(j-1),O*j),f=Object(c.useState)(void 0),h=Object(o.a)(f,2),g=h[0],x=h[1],v=Math.ceil(m.length/O),k=a?Object(I.a)(Object.keys(Array(O))).map((function(e){return Object(J.jsx)(Y.a,{animation:!0,height:"30px"},e)})):p.map((function(e){return Object(J.jsx)(se,{groupName:e,expanded:g===e,setExpanded:x},e)}));return Object(J.jsxs)(ae,{children:[Object(J.jsx)(de,{nameLike:i,setNameLike:u}),Object(J.jsx)(be.a,{expanded:g?[g]:[],children:k}),Object(J.jsx)(D.a,{numPages:v,size:"mini",currentPage:j,onPageChange:function(e){var t=e.nextPage,a=Math.min(Math.max(t,1),v);d(a)}})]})},me=a(177),pe=a(165),fe=function(){var e=z(),t=Object(o.a)(e,2),a=t[0].loading,n=t[1],r=Object(c.useState)(""),i=Object(o.a)(r,2),u=i[0],l=i[1];return Object(J.jsxs)(ae,{children:[Object(J.jsx)(me.a,{value:u,onChange:function(e){return l(e.currentTarget.value)},placeholder:"Paste a bank tag group from Runelite",clearOnEscape:!0}),Object(J.jsx)(k.a,{disabled:a,isLoading:a,startEnhancer:function(){return Object(J.jsx)(pe.a,{})},onClick:function(){var e=u.split(",").map((function(e){return e.trim()})),t=e[0],a=e.slice(1).map((function(e){return+e})).map((function(e){return{itemId:e,groupName:t}}));n({data:a})},children:"Import"})]})},he=Object(s.c)("div",{position:"sticky",top:"0px",width:"100vw",zIndex:1e3}),ge=Object(s.c)("div",{paddingRight:"20px"}),xe=function(){var e,t=Object(b.a)("theme","dark"),a=Object(o.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)("0"),u=Object(o.a)(i,2),l=u[0],s=u[1],j=(e={},Object(y.a)({url:M,params:e})),d=Object(o.a)(j,2),O=d[0],I=O.data,L=O.loading,E=d[1],N=Object(J.jsx)(k.a,{shape:"circle",kind:"tertiary",onClick:function(){return r("dark"===n?"light":"dark")},children:"dark"===n?Object(J.jsx)(w.b,{}):Object(J.jsx)(w.c,{})});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(he,{children:Object(J.jsxs)(f.a,{children:[Object(J.jsx)(h.b,{$align:g.a.left,children:Object(J.jsx)(h.a,{children:Object(J.jsx)(C.a,{children:"OSRS Item Tags"})})}),Object(J.jsx)(h.b,{$align:g.a.center}),Object(J.jsxs)(h.b,{$align:g.a.right,children:[Object(J.jsx)(h.a,{children:Object(J.jsx)(v.a,{href:"https://www.buymeacoffee.com/k2bd",target:"_blank",children:Object(J.jsx)(k.a,{startEnhancer:function(){return Object(J.jsx)(x.a,{})},shape:"pill",kind:"tertiary",children:"Support"})})}),Object(J.jsx)(ge,{children:Object(J.jsx)(h.a,{children:N})})]})]})}),Object(J.jsxs)(T.a,{activeKey:l,onChange:function(e){var t=e.activeKey;return s(t.toString())},activateOnFocus:!0,children:[Object(J.jsx)(S.a,{title:"Items",children:Object(J.jsx)(ce,{availableTagGroups:null!==I&&void 0!==I?I:[],loading:L,refetchTagGroups:Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)})))})}),Object(J.jsx)(S.a,{title:"Tags",children:Object(J.jsx)(Oe,{availableTagGroups:null!==I&&void 0!==I?I:[],loading:L,refetchTagGroups:Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)})))})}),Object(J.jsx)(S.a,{title:"Import",children:Object(J.jsx)(fe,{})})]})]})},ve=new l.a;var ke=function(){var e=Object(b.a)("theme","dark"),t=Object(o.a)(e,1)[0],a="dark"===t?te:j.a;return Object(J.jsx)("div",{style:{background:"dark"===t?"#000000":"#ffffff",margin:"0px",height:"100vh",position:"absolute",left:0,top:0,width:"100vw",overflow:"scroll",overflowX:"hidden"},children:Object(J.jsx)(s.a,{value:ve,children:Object(J.jsx)(d.a,{theme:a,children:Object(J.jsx)(xe,{})})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};a(146);u.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(ke,{})}),document.getElementById("root")),we()}},[[147,1,2]]]);
//# sourceMappingURL=main.3929bdcb.chunk.js.map