(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n,c=a(1),r=a.n(c),i=a(44),u=a.n(i),s=a(10),l=a(91),o=a(19),j=a(148),b=a(168),d=a(46),O=a(22),m=a.n(O),p=a(35),f=a(166),h=a(88),g=a(65),x=a(89),v=a(94),k=a(171),w=a(39),C=a(93),T=a(173),L=a(167),S=a(55),I=a(30),y=null!==(n="https://xyjxget0z8.execute-api.eu-west-2.amazonaws.com/main")?n:"",E="items",N="tags",M=("".concat(E,"/related/"),"".concat(E,"/tag/")),P="".concat(N,"/item/"),G=function(e,t){return Object(I.a)({url:M+"".concat(e),baseURL:y,params:t})},R=function(){return Object(I.a)({url:N,baseURL:y,method:"POST",params:{}},{manual:!0,autoCancel:!1})},F=a(172),z=a(5),U=a(160),D=a(161),B=a(169),$=a(3),A=function(e){var t,a=e.item,n=e.availableTagGroups,r=e.loading,i=e.refetchTagGroups,u=(t=a.itemId,Object(I.a)({url:P+"".concat(t),baseURL:y})),l=Object(s.a)(u,2),o=l[0],j=o.data,b=o.loading,d=l[1],O=Object(c.useState)([]),f=Object(s.a)(O,2),h=f[0],g=f[1],x=R(),v=Object(s.a)(x,2),k=v[0].loading,w=v[1],C=Object(I.a)({url:N,baseURL:y,method:"DELETE",params:{}},{manual:!0,autoCancel:!1}),T=Object(s.a)(C,2),L=T[0].loading,S=T[1];Object(c.useEffect)((function(){!b&&j&&g(j)}),[j,b]);var E=(null!==n&&void 0!==n?n:[]).map((function(e){return{id:e,label:e}})),M=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,c,r,u,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(n=null===j||void 0===j?void 0:j.map((function(e){return e.groupName})))&&void 0!==n?n:[],r=t.value.map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.toString()})).filter((function(e){return!!e})).map((function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))})).flat().map((function(e){return e.toLowerCase()})),u=r.filter((function(e){return e&&!(null===c||void 0===c?void 0:c.includes(e))})),s=null===c||void 0===c?void 0:c.filter((function(e){return!r.includes(e)})),e.next=6,w({data:u.map((function(e){return{itemId:a.itemId,groupName:e}}))});case 6:return e.next=8,S({data:s.map((function(e){return{itemId:a.itemId,groupName:e}}))});case 8:return e.next=10,d();case 10:return e.next=12,i();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=r||b||k||L,F=Object($.jsx)(B.a,{creatable:!0,multi:!0,disabled:G,isLoading:G,size:"mini",options:E,value:h.map((function(e){return{id:e.groupName,label:e.groupName}})),placeholder:"Select tags",onChange:M});return Object($.jsx)(U.a,{artwork:function(){return Object($.jsx)("img",{src:"data:image/jpeg;base64,".concat(a.iconBase64)})},children:Object($.jsx)(D.a,{description:F,children:a.name})},a.itemId)},J=a(162),K=a(179),_=a(18),X=a(83),q=a.n(X),H=a(178),Q=a(175),V=function(e){var t=e.nameLike,a=e.setNameLike,n=e.includeMembers,r=e.setIncludeMembers,i=Object(c.useState)(null!==t&&void 0!==t?t:""),u=Object(s.a)(i,2),l=u[0],o=u[1],j=Object(c.useCallback)(q()(a,300),[]);return Object($.jsx)($.Fragment,{children:Object($.jsxs)(Q.a,{title:"Item filters",children:[Object($.jsx)(H.a,{label:function(){return"Item Name"},children:Object($.jsx)(J.a,{value:l,onChange:function(e){o(e.currentTarget.value),j(e.currentTarget.value)},placeholder:"Complete or partial item name",clearOnEscape:!0})}),Object($.jsx)(H.a,{children:Object($.jsx)(K.a,{checkmarkType:_.b.toggle_round,checked:n,onChange:function(){return r(!n)},labelPlacement:_.a.right,children:"Include Members"})})]})})},W=a(176),Y=a(170),Z=a(9),ee=Object(Y.a)({},{}),te=Object(Z.a)("div",{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}),ae=Object(Z.a)("div",{display:"flex",flexDirection:"row"}),ne=function(e){var t,a,n=e.availableTagGroups,r=e.loading,i=e.refetchTagGroups,u=Object(o.d)(),l=Object(s.a)(u,1)[0],j=Object(c.useState)(""),b=Object(s.a)(j,2),d=b[0],O=b[1],m=Object(c.useState)(!0),p=Object(s.a)(m,2),f=p[0],h=p[1],g=Object(c.useState)(1),x=Object(s.a)(g,2),v=x[0],k=x[1],w=Object(c.useState)(25),C=Object(s.a)(w,1)[0];Object(c.useEffect)((function(){k(1)}),[d,f]);var T,L=(T={nameLike:d,includeMembers:f,limit:C,offset:C*(v-1)},Object(I.a)({url:E,baseURL:y,params:T})),N=Object(s.a)(L,1)[0],M=N.data,P=N.loading,G=Math.ceil((null!==(t=null===M||void 0===M?void 0:M.totalCount)&&void 0!==t?t:0)/C),R=P||!M?Object(S.a)(Object.keys(Array(C))).map((function(e){return Object($.jsx)(W.a,{animation:!0,height:"30px"},e)})):null!==(a=M.items.map((function(e){return Object($.jsx)(A,{item:e,availableTagGroups:null!==n&&void 0!==n?n:[],loading:r,refetchTagGroups:i},e.itemId)})))&&void 0!==a?a:[];return Object($.jsx)($.Fragment,{children:Object($.jsxs)(te,{children:[Object($.jsx)(V,{nameLike:d,setNameLike:O,includeMembers:f,setIncludeMembers:h}),Object($.jsx)("ul",{className:l({width:"60%"}),children:R}),Object($.jsx)(F.a,{numPages:G,size:z.d.mini,currentPage:v,onPageChange:function(e){var t=e.nextPage,a=Math.min(Math.max(t,1),G);k(a)}})]})})},ce=a(174),re=function(e){var t=e.item;return Object($.jsx)(ce.a,{startEnhancer:function(){return Object($.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.iconBase64)})},closeable:!1,children:t.name})},ie=a(85),ue=a(163),se=a(84),le=function(e){var t=e.groupName,a=e.expanded,n=e.setExpanded,c=G(t,{}),r=Object(s.a)(c,1)[0].data,i=G(t,{includeRelated:!0}),u=Object(s.a)(i,1)[0].data,l=(null!==r&&void 0!==r?r:[]).map((function(e){return Object($.jsx)(re,{item:e})})),o="".concat(t,",")+(null===u||void 0===u?void 0:u.map((function(e){return e.itemId.toString()})).join(",")),j=Object(ie.a)(o,{successDuration:500}),b=Object(s.a)(j,2),d=b[0],O=b[1],m=Object($.jsx)(k.a,{kind:"secondary",onClick:O,children:d?Object($.jsx)(ue.a,{}):Object($.jsx)(w.a,{})});return Object($.jsxs)(ae,{children:[Object($.jsx)(se.a,{title:t,expanded:a,onClick:function(){return n(a?void 0:t)},children:l},t),m]})},oe=a(87),je=function(e){var t=e.nameLike,a=e.setNameLike,n=Object(c.useState)(null!==t&&void 0!==t?t:""),r=Object(s.a)(n,2),i=r[0],u=r[1],l=Object(c.useCallback)(Object(oe.debounce)(a,300),[]);return Object($.jsx)(H.a,{label:"Filter Tags",children:Object($.jsx)(J.a,{value:i,onChange:function(e){u(e.currentTarget.value),l(e.currentTarget.value)},placeholder:"Complete or partial tag name",clearOnEscape:!0})})},be=a(164),de=function(e){var t=e.availableTagGroups,a=e.loading,n=Object(c.useState)(""),r=Object(s.a)(n,2),i=r[0],u=r[1],l=Object(c.useState)(1),o=Object(s.a)(l,2),j=o[0],b=o[1],d=Object(c.useState)(25),O=Object(s.a)(d,1)[0];Object(c.useEffect)((function(){b(1)}),[i]);var m=t.filter((function(e){return e.toLowerCase().includes(i.toLowerCase())})),p=m.slice(O*(j-1),O*j),f=Object(c.useState)(void 0),h=Object(s.a)(f,2),g=h[0],x=h[1],v=Math.ceil(m.length/O),k=a?Object(S.a)(Object.keys(Array(O))).map((function(e){return Object($.jsx)(W.a,{animation:!0,height:"30px"},e)})):p.map((function(e){return Object($.jsx)(le,{groupName:e,expanded:g===e,setExpanded:x},e)}));return Object($.jsxs)(te,{children:[Object($.jsx)(je,{nameLike:i,setNameLike:u}),Object($.jsx)(be.a,{expanded:g?[g]:[],children:k}),Object($.jsx)(F.a,{numPages:v,size:"mini",currentPage:j,onPageChange:function(e){var t=e.nextPage,a=Math.min(Math.max(t,1),v);b(a)}})]})},Oe=a(177),me=a(165),pe=function(){var e=R(),t=Object(s.a)(e,2),a=t[0].loading,n=t[1],r=Object(c.useState)(""),i=Object(s.a)(r,2),u=i[0],l=i[1];return Object($.jsxs)(te,{children:[Object($.jsx)(Oe.a,{value:u,onChange:function(e){return l(e.currentTarget.value)},placeholder:"Paste a bank tag group from Runelite",clearOnEscape:!0}),Object($.jsx)(k.a,{disabled:a,isLoading:a,startEnhancer:function(){return Object($.jsx)(me.a,{})},onClick:function(){var e=u.split(",").map((function(e){return e.trim()})),t=e[0],a=e.slice(1).map((function(e){return+e})).map((function(e){return{itemId:e,groupName:t}}));n({data:a})},children:"Import"})]})},fe=Object(o.c)("div",{position:"sticky",top:"0px",width:"100vw",zIndex:1e3}),he=Object(o.c)("div",{paddingRight:"20px"}),ge=function(){var e,t=Object(d.a)("theme","dark"),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)("0"),u=Object(s.a)(i,2),l=u[0],o=u[1],j=(e={},Object(I.a)({url:"tagGroups/",baseURL:y,params:e})),b=Object(s.a)(j,2),O=b[0],S=O.data,E=O.loading,N=b[1],M=Object($.jsx)(k.a,{shape:"circle",kind:"tertiary",onClick:function(){return r("dark"===n?"light":"dark")},children:"dark"===n?Object($.jsx)(w.b,{}):Object($.jsx)(w.c,{})});return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(fe,{children:Object($.jsxs)(f.a,{children:[Object($.jsx)(h.b,{$align:g.a.left,children:Object($.jsx)(h.a,{children:Object($.jsx)(C.a,{children:"OSRS Item Tags"})})}),Object($.jsx)(h.b,{$align:g.a.center}),Object($.jsxs)(h.b,{$align:g.a.right,children:[Object($.jsx)(h.a,{children:Object($.jsx)(v.a,{href:"https://www.buymeacoffee.com/k2bd",target:"_blank",children:Object($.jsx)(k.a,{startEnhancer:function(){return Object($.jsx)(x.a,{})},shape:"pill",kind:"tertiary",children:"Support"})})}),Object($.jsx)(he,{children:Object($.jsx)(h.a,{children:M})})]})]})}),Object($.jsxs)(T.a,{activeKey:l,onChange:function(e){var t=e.activeKey;return o(t.toString())},activateOnFocus:!0,children:[Object($.jsx)(L.a,{title:"Items",children:Object($.jsx)(ne,{availableTagGroups:null!==S&&void 0!==S?S:[],loading:E,refetchTagGroups:Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:case"end":return e.stop()}}),e)})))})}),Object($.jsx)(L.a,{title:"Tags",children:Object($.jsx)(de,{availableTagGroups:null!==S&&void 0!==S?S:[],loading:E,refetchTagGroups:Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:case"end":return e.stop()}}),e)})))})}),Object($.jsx)(L.a,{title:"Import",children:Object($.jsx)(pe,{})})]})]})},xe=new l.a;var ve=function(){var e=Object(d.a)("theme","dark"),t=Object(s.a)(e,1)[0],a="dark"===t?ee:j.a;return Object($.jsx)("div",{style:{background:"dark"===t?"#000000":"#ffffff",margin:"0px",height:"100vh",position:"absolute",left:0,top:0,width:"100vw",overflow:"scroll",overflowX:"hidden"},children:Object($.jsx)(o.a,{value:xe,children:Object($.jsx)(b.a,{theme:a,children:Object($.jsx)(ge,{})})})})},ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};a(146);u.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(ve,{})}),document.getElementById("root")),ke()}},[[147,1,2]]]);
//# sourceMappingURL=main.19c83f36.chunk.js.map