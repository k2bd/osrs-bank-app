(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),i=n(48),o=n.n(i),u=n(7),s=n(96),l=n(21),d=n(153),j=n(177),b=n(50),O=n(175),m=n(93),p=n(68),f=n(94),h=n(99),x=n(154),v=n(41),g=n(98),k=n(181),I=n(176),C=n(13),w=n.n(C),y=n(22),S=n(60),L=n(23),T=null!==(a="https://52gryhn1ch.execute-api.eu-west-2.amazonaws.com/main")?a:"",E="items",N="tags",R="group",P=("".concat(E,"/related/"),"".concat(E,"/tag/")),M="".concat(N,"/item/"),F=function(e){return Object(L.a)({url:"groups",baseURL:T,params:e})},U=function(e,t){return Object(L.a)({url:P+"".concat(e),baseURL:T,params:t})},D=function(){return Object(L.a)({url:N,baseURL:T,method:"POST",params:{}},{manual:!0,autoCancel:!1})},z=n(180),G=n(5),B=n(167),$=n(168),A=n(178),J=n(3),K=function(e){var t,n=e.item,a=e.availableTagGroups,r=e.loading,i=e.refetchTagGroups,o=(t=n.itemId,Object(L.a)({url:M+"".concat(t),baseURL:T})),s=Object(u.a)(o,2),l=s[0],d=l.data,j=l.loading,b=s[1],O=Object(c.useState)([]),m=Object(u.a)(O,2),p=m[0],f=m[1],h=D(),x=Object(u.a)(h,2),v=x[0].loading,g=x[1],k=Object(L.a)({url:N,baseURL:T,method:"DELETE",params:{}},{manual:!0,autoCancel:!1}),I=Object(u.a)(k,2),C=I[0].loading,S=I[1];Object(c.useEffect)((function(){!j&&d&&f(d)}),[d,j]);var E=(null!==a&&void 0!==a?a:[]).map((function(e){var t=e.groupName;return{id:t,label:t}})),R=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,c,r,o,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(a=null===d||void 0===d?void 0:d.map((function(e){return e.groupName})))&&void 0!==a?a:[],r=t.value.map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.toString()})).filter((function(e){return!!e})).map((function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))})).flat().map((function(e){return e.toLowerCase()})),o=r.filter((function(e){return e&&!(null===c||void 0===c?void 0:c.includes(e))})),u=null===c||void 0===c?void 0:c.filter((function(e){return!r.includes(e)})),e.next=6,g({data:o.map((function(e){return{itemId:n.itemId,groupName:e}}))});case 6:return e.next=8,S({data:u.map((function(e){return{itemId:n.itemId,groupName:e}}))});case 8:return e.next=10,b();case 10:return e.next=12,i();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=r||j||v||C,F=Object(J.jsx)(A.a,{creatable:!0,multi:!0,isLoading:P,size:"mini",options:E,value:p.map((function(e){return{id:e.groupName,label:e.groupName}})),placeholder:"Select tags",onChange:R});return Object(J.jsx)(B.a,{artwork:function(){return Object(J.jsx)("img",{src:"data:image/jpeg;base64,".concat(n.iconBase64)})},children:Object(J.jsx)($.a,{description:F,children:n.name})},n.itemId)},_=n(169),X=n(187),q=n(19),H=n(88),Q=n.n(H),V=n(186),W=n(182),Y=function(e){var t=e.nameLike,n=e.setNameLike,a=e.includeMembers,r=e.setIncludeMembers,i=Object(c.useState)(null!==t&&void 0!==t?t:""),o=Object(u.a)(i,2),s=o[0],l=o[1],d=Object(c.useCallback)(Q()(n,300),[]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(W.a,{title:"Item filters",children:[Object(J.jsx)(V.a,{label:function(){return"Item Name"},children:Object(J.jsx)(_.a,{value:s,onChange:function(e){l(e.currentTarget.value),d(e.currentTarget.value)},placeholder:"Complete or partial item name",clearOnEscape:!0})}),Object(J.jsx)(V.a,{children:Object(J.jsx)(X.a,{checkmarkType:q.b.toggle_round,checked:a,onChange:function(){return r(!a)},labelPlacement:q.a.right,children:"Include Members"})})]})})},Z=n(184),ee=n(179),te=n(6),ne=Object(ee.a)({},{}),ae=Object(te.a)("div",{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}),ce=Object(te.a)("div",{display:"flex",flexDirection:"row"}),re=(Object(te.a)("div",{display:"flex",flexDirection:"column"}),function(){var e,t,n=Object(l.d)(),a=Object(u.a)(n,1)[0],r=Object(c.useState)(""),i=Object(u.a)(r,2),o=i[0],s=i[1],d=Object(c.useState)(!0),j=Object(u.a)(d,2),b=j[0],O=j[1],m=Object(c.useState)([]),p=Object(u.a)(m,2),f=p[0],h=p[1],x=Object(c.useState)(1),v=Object(u.a)(x,2),g=v[0],k=v[1],I=Object(c.useState)(25),C=Object(u.a)(I,1)[0];Object(c.useEffect)((function(){k(1)}),[o,b,f]);var N,R=(N={nameLike:o,includeMembers:b,hasTags:f.map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.toString()})).join(","),limit:C,offset:C*(g-1)},Object(L.a)({url:E,baseURL:T,params:N})),P=Object(u.a)(R,1)[0],M=P.data,U=P.loading,D=F({}),B=Object(u.a)(D,2),$=B[0],A=$.data,_=$.loading,X=B[1];Object(c.useEffect)((function(){X()}),[]);var q=Math.ceil((null!==(e=null===M||void 0===M?void 0:M.totalCount)&&void 0!==e?e:0)/C),H=U||!M?Object(S.a)(Object.keys(Array(C))).map((function(e){return Object(J.jsx)(Z.a,{animation:!0,height:"30px"},e)})):null!==(t=M.items.map((function(e){return Object(J.jsx)(K,{item:e,availableTagGroups:null!==A&&void 0!==A?A:[],loading:_,refetchTagGroups:Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X();case 1:case"end":return e.stop()}}),e)})))},e.itemId)})))&&void 0!==t?t:[];return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ae,{children:[Object(J.jsx)(Y,{nameLike:o,setNameLike:s,includeMembers:b,setIncludeMembers:O,availableTags:(null!==A&&void 0!==A?A:[]).map((function(e){var t=e.groupName;return{id:t,label:t}})),searchedTags:f,setSearchedTags:function(e){return h(e.value)},tagSelectLoading:_}),Object(J.jsx)("ul",{className:a({width:"60%"}),children:H}),Object(J.jsx)(z.a,{numPages:q,size:G.d.mini,currentPage:g,onPageChange:function(e){var t=e.nextPage,n=Math.min(Math.max(t,1),q);k(n)}})]})})}),ie=n(183),oe=function(e){var t=e.item,n=e.disabled,a=e.selected,c=e.onClick;return Object(J.jsx)(ie.a,{startEnhancer:function(){return Object(J.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.iconBase64)})},disabled:n,kind:a?"positive":"primary",closeable:!1,onClick:c,children:t.name})},ue=n(90),se=n(170),le=n(171),de=n(87),je=n(89),be=n(188),Oe=n(25),me=n(35),pe=n(172),fe=function(e){var t,n,a=e.groupName,r=e.expanded,i=e.setExpanded,o=e.refetchTagGroups,s=function(e){return Object(L.a)({url:R+"/".concat(e),baseURL:T})}(a),l=Object(u.a)(s,2),d=l[0].data,j=l[1],b=U(a,{}),O=Object(u.a)(b,1)[0].data,m=U(a,{includeRelated:!0}),p=Object(u.a)(m,1)[0].data,f=Object(L.a)({url:R,baseURL:T,method:"PUT",params:{}},{manual:!0,autoCancel:!1}),h=Object(u.a)(f,2),g=h[0].loading,k=h[1],I=Object(L.a)({url:R,baseURL:T,method:"DELETE",params:{}},{manual:!0,autoCancel:!1}),C=Object(u.a)(I,2)[1],S=(n=null!==(t=null===d||void 0===d?void 0:d.itemIconId)&&void 0!==t?t:-1,Object(L.a)({url:"item"+"/".concat(n),baseURL:T})),E=Object(u.a)(S,1)[0].data,N=Object(c.useState)(null===d||void 0===d?void 0:d.description),P=Object(u.a)(N,2),M=P[0],F=P[1];Object(c.useEffect)((function(){return F(null===d||void 0===d?void 0:d.description)}),[null===d||void 0===d?void 0:d.description]);var D=Object(c.useState)(!1),z=Object(u.a)(D,2),G=z[0],A=z[1],K=(null===d||void 0===d?void 0:d.itemIconId)?null===p||void 0===p?void 0:p.sort((function(e,t){return e.itemId==d.itemIconId?-1:t.itemId==d.itemIconId?1:0})):p,X="".concat(a,",")+(null===K||void 0===K?void 0:K.map((function(e){return e.itemId.toString()})).join(",")),q=Object(ue.a)(X,{successDuration:500}),H=Object(u.a)(q,2),Q=H[0],V=H[1];if(!d)return Object(J.jsx)(se.a,{});var W=(null!==O&&void 0!==O?O:[]).map((function(e){return Object(J.jsx)(oe,{item:e,disabled:g,selected:e.itemId===(null===d||void 0===d?void 0:d.itemIconId),onClick:Object(y.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={groupName:a,description:null===d||void 0===d?void 0:d.description,itemIconId:e.itemId},t.next=3,k({data:n});case 3:return t.next=5,j();case 5:case"end":return t.stop()}}),t)})))})})),Y=Object(J.jsx)(x.a,{kind:"secondary",onClick:V,children:Q?Object(J.jsx)(le.a,{}):Object(J.jsx)(v.a,{})}),Z=Object(J.jsx)(B.a,{overrides:{Root:{style:function(e){var t=e.$theme;return{outline:"".concat(t.colors.primary700," solid"),backgroundColor:t.colors.primary700}}}},artwork:function(){return void 0!==d.itemIconId&&E?Object(J.jsx)("img",{src:"data:image/jpeg;base64,".concat(E.iconBase64)}):Object(J.jsx)(J.Fragment,{})},children:Object(J.jsx)($.a,{description:d.description,children:a})}),ee=Object(J.jsxs)(ce,{children:[Object(J.jsx)(_.a,{size:"compact",value:M,onChange:function(e){return F(e.currentTarget.value)}}),Object(J.jsx)(x.a,{size:"compact",kind:"secondary",disabled:g||d.description===M,onClick:Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={groupName:a,description:M,itemIconId:d.itemIconId},e.next=3,k({data:t});case 3:return e.next=5,j();case 5:case"end":return e.stop()}}),e)}))),children:"Update description"})]}),te=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({data:d});case 2:return e.next=4,o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=Object(J.jsxs)(be.a,{onClose:function(){return A(!1)},closeable:!0,isOpen:G,animate:!0,autoFocus:!0,size:Oe.c.default,role:Oe.b.dialog,children:[Object(J.jsx)(me.g,{children:"Delete tag group?"}),Object(J.jsx)(me.e,{children:"This will delete the tag group and remove the tag from all items."}),Object(J.jsxs)(me.f,{children:[Object(J.jsx)(pe.a,{kind:"tertiary",onClick:function(){return A(!1)},children:"Cancel"}),Object(J.jsx)(pe.a,{kind:"primary",onClick:Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!1),e.next=3,te();case 3:case"end":return e.stop()}}),e)}))),children:"Delete"})]})]});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(ce,{children:[Object(J.jsxs)(je.a,{title:Z,expanded:r,onClick:function(){return i(r?void 0:a)},children:[ee,W,Object(J.jsx)(ce,{children:Object(J.jsx)(x.a,{onClick:function(){return A(!0)},startEnhancer:function(){return Object(J.jsx)(de.a,{})},kind:"secondary",size:"mini",children:"Delete Group"})})]},a),Y]}),ne]})},he=n(92),xe=function(e){var t=e.nameLike,n=e.setNameLike,a=Object(c.useState)(null!==t&&void 0!==t?t:""),r=Object(u.a)(a,2),i=r[0],o=r[1],s=Object(c.useCallback)(Object(he.debounce)(n,300),[]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(V.a,{label:"Tag name",children:Object(J.jsx)(_.a,{value:i,onChange:function(e){o(e.currentTarget.value),s(e.currentTarget.value)},placeholder:"Complete or partial tag name",clearOnEscape:!0})})})},ve=n(173),ge=function(){var e,t,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(1),s=Object(u.a)(o,2),l=s[0],d=s[1],j=Object(c.useState)(25),b=Object(u.a)(j,1)[0];Object(c.useEffect)((function(){d(1)}),[r]);var O=F({nameLike:r}),m=Object(u.a)(O,2),p=m[0],f=p.data,h=p.loading,x=m[1];Object(c.useEffect)((function(){x()}),[]);var v=null!==(e=null===f||void 0===f?void 0:f.slice(b*(l-1),b*l))&&void 0!==e?e:[],g=Object(c.useState)(void 0),k=Object(u.a)(g,2),I=k[0],C=k[1],L=Math.ceil(null!==(t=null===f||void 0===f?void 0:f.length)&&void 0!==t?t:0/b),T=h?Object(S.a)(Object.keys(Array(b))).map((function(e){return Object(J.jsx)(Z.a,{animation:!0,height:"30px"},e)})):v.map((function(e){var t=e.groupName;return Object(J.jsx)(fe,{groupName:t,expanded:I===t,setExpanded:C,refetchTagGroups:Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:case"end":return e.stop()}}),e)})))},t)}));return Object(J.jsxs)(ae,{children:[Object(J.jsx)(xe,{nameLike:r,setNameLike:i}),Object(J.jsx)(ve.a,{expanded:I?[I]:[],children:T}),Object(J.jsx)(z.a,{numPages:L,size:"mini",currentPage:l,onPageChange:function(e){var t=e.nextPage,n=Math.min(Math.max(t,1),L);d(n)}})]})},ke=n(185),Ie=n(174),Ce=function(){var e=D(),t=Object(u.a)(e,2),n=t[0].loading,a=t[1],r=Object(c.useState)(""),i=Object(u.a)(r,2),o=i[0],s=i[1];return Object(J.jsxs)(ae,{children:[Object(J.jsx)(ke.a,{value:o,onChange:function(e){return s(e.currentTarget.value)},placeholder:"Paste a bank tag group from Runelite",clearOnEscape:!0}),Object(J.jsx)(x.a,{disabled:n,isLoading:n,startEnhancer:function(){return Object(J.jsx)(Ie.a,{})},onClick:function(){var e=o.split(",").map((function(e){return e.trim()})),t=e[0],n=e.slice(1).map((function(e){return+e})).map((function(e){return{itemId:e,groupName:t}}));a({data:n})},children:"Import"})]})},we=Object(l.c)("div",{position:"sticky",top:"0px",width:"100vw",zIndex:1e3}),ye=Object(l.c)("div",{paddingRight:"20px"}),Se=function(){var e=Object(b.a)("theme","dark"),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("0"),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Object(J.jsx)(x.a,{shape:"circle",kind:"tertiary",onClick:function(){return a("dark"===n?"light":"dark")},children:"dark"===n?Object(J.jsx)(v.b,{}):Object(J.jsx)(v.c,{})});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(we,{children:Object(J.jsxs)(O.a,{children:[Object(J.jsx)(m.b,{$align:p.a.left,children:Object(J.jsx)(m.a,{children:Object(J.jsx)(g.a,{children:"OSRS Item Tags"})})}),Object(J.jsx)(m.b,{$align:p.a.center}),Object(J.jsxs)(m.b,{$align:p.a.right,children:[Object(J.jsx)(m.a,{children:Object(J.jsx)(h.a,{href:"https://www.buymeacoffee.com/k2bd",target:"_blank",children:Object(J.jsx)(x.a,{startEnhancer:function(){return Object(J.jsx)(f.a,{})},shape:"pill",kind:"tertiary",children:"Support"})})}),Object(J.jsx)(ye,{children:Object(J.jsx)(m.a,{children:l})})]})]})}),Object(J.jsxs)(k.a,{activeKey:o,onChange:function(e){var t=e.activeKey;return s(t.toString())},activateOnFocus:!0,children:[Object(J.jsx)(I.a,{title:"Items",children:Object(J.jsx)(re,{})}),Object(J.jsx)(I.a,{title:"Tags",children:Object(J.jsx)(ge,{})}),Object(J.jsx)(I.a,{title:"Import",children:Object(J.jsx)(Ce,{})})]})]})},Le=new s.a;var Te=function(){var e=Object(b.a)("theme","dark"),t=Object(u.a)(e,1)[0],n="dark"===t?ne:d.a;return Object(J.jsx)("div",{style:{background:"dark"===t?"#000000":"#ffffff",margin:"0px",height:"100vh",position:"absolute",left:0,top:0,width:"100vw",overflow:"scroll",overflowX:"hidden"},children:Object(J.jsx)(l.a,{value:Le,children:Object(J.jsx)(j.a,{theme:n,children:Object(J.jsx)(Se,{})})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(151);o.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(Te,{})}),document.getElementById("root")),Ee()}},[[152,1,2]]]);
//# sourceMappingURL=main.66490395.chunk.js.map